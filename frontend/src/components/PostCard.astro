---
const { title, content, tag, author } = Astro.props;

// Generar un color aleatorio para el avatar basado en el nombre
const getAvatarColor = (name: string) => {
  const colors = ['bg-blue-500', 'bg-green-500', 'bg-yellow-500', 'bg-purple-500', 'bg-pink-500', 'bg-indigo-500'];
  let hash = 0;
  for (let i = 0; i < name.length; i++) {
    hash = name.charCodeAt(i) + ((hash << 5) - hash);
  }
  return colors[Math.abs(hash) % colors.length];
};

const avatarColor = getAvatarColor(author || 'A');
const initial = (author || 'A')[0].toUpperCase();
---
<article class="bg-white rounded-2xl p-6 border border-slate-100 hover:border-slate-200 transition-colors shadow-sm hover:shadow-md">
  <div class="flex gap-4">
    <div class={`flex-shrink-0 w-12 h-12 ${avatarColor} rounded-full flex items-center justify-center text-white font-bold text-lg shadow-sm`}>
      {initial}
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center justify-between mb-1">
        <div class="flex items-center gap-2">
          <h3 class="text-base font-bold text-slate-900 truncate">{author}</h3>
          <span class="text-slate-400 text-sm">Â· 2h</span>
        </div>
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-600">
          {tag}
        </span>
      </div>
      
      <h2 class="text-lg font-semibold text-slate-900 mb-2 leading-tight">{title}</h2>
      <p class="text-slate-600 leading-relaxed mb-4 whitespace-pre-line">{content}</p>
      
      <div class="flex items-center gap-6 pt-2 border-t border-slate-50">
        <button class="flex items-center gap-2 text-slate-400 hover:text-indigo-500 transition-colors group">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:scale-110 transition-transform"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
          <span class="text-xs font-medium">Comentar</span>
        </button>
        <button class="flex items-center gap-2 text-slate-400 hover:text-pink-500 transition-colors group">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:scale-110 transition-transform"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          <span class="text-xs font-medium">Me gusta</span>
        </button>
        <button class="flex items-center gap-2 text-slate-400 hover:text-green-500 transition-colors group">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:scale-110 transition-transform"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>
          <span class="text-xs font-medium">Compartir</span>
        </button>
      </div>
    </div>
  </div>
</article>
